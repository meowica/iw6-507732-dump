ragdoll_clear 0

// p0 = point 0
// p1 = point 1
// cog = center of gravity
// rb = rigid body

// Where an argument lists <axis> it means a literal x, y, z, -x, -y, or -z

// Bones
// Format is:
// ragdoll_bone <def> <joint name (p0)> <child name (p1)> <radius> <cog lerp> <mass>
//     <friction> <parent bone> <mirror> <geom type>

ragdoll_bone 0 j_mainroot    j_neck      5.0  0.5  3.0  0.3  -1   0   capsule
ragdoll_bone 0 j_neck        j_head      3.5  0.5  0.3  0.3   0   0   capsule

ragdoll_bone 0 j_shoulder_le j_elbow_le  2.5  0.5  0.6  0.3   0   0   capsule
ragdoll_bone 0 j_elbow_le    j_wrist_le  2.5  0.5  0.45 0.3   2   0   capsule

ragdoll_bone 0 j_shoulder_ri j_elbow_ri  2.5  0.5  0.6  0.3   0   1   capsule
ragdoll_bone 0 j_elbow_ri    j_wrist_ri  2.5  0.5  0.45 0.3   4   1   capsule

ragdoll_bone 0 j_hip_le      j_knee_le   3.0  0.5  0.8  0.3   0   0   capsule
ragdoll_bone 0 j_knee_le     j_ankle_le  2.8  0.5  0.6  0.3   6   0   capsule

ragdoll_bone 0 j_hip_ri      j_knee_ri   3.0  0.5  0.8  0.3   0   1   capsule
ragdoll_bone 0 j_knee_ri     j_ankle_ri  2.8  0.5  0.6  0.3   8   1   capsule


// Hit location
// Format is:
// ragdoll_hitloc_mapping <def> <bone> <hitloc>
ragdoll_hitloc_mapping 0 1 helmet
ragdoll_hitloc_mapping 0 1 head
ragdoll_hitloc_mapping 0 1 neck
ragdoll_hitloc_mapping 0 0 torso_upper
ragdoll_hitloc_mapping 0 0 torso_lower
ragdoll_hitloc_mapping 0 4 right_arm_upper
ragdoll_hitloc_mapping 0 2 left_arm_upper
ragdoll_hitloc_mapping 0 5 right_arm_lower
ragdoll_hitloc_mapping 0 3 left_arm_lower
ragdoll_hitloc_mapping 0 5 right_hand
ragdoll_hitloc_mapping 0 3 left_hand
ragdoll_hitloc_mapping 0 8 right_leg_upper
ragdoll_hitloc_mapping 0 6 left_leg_upper
ragdoll_hitloc_mapping 0 9 right_leg_lower
ragdoll_hitloc_mapping 0 7 left_leg_lower
ragdoll_hitloc_mapping 0 9 right_foot
ragdoll_hitloc_mapping 0 7 left_foot
ragdoll_hitloc_mapping 0 5 gun


// Self collision pairs
// Format is:
// ragdoll_selfpair <def> <bone 0> <bone 1>
ragdoll_selfpair 0 0 3
ragdoll_selfpair 0 0 5	// Forearms vs. torso

ragdoll_selfpair 0 0 7 
ragdoll_selfpair 0 0 9	// Shins vs. torso

ragdoll_selfpair 0 3 7
ragdoll_selfpair 0 3 9

ragdoll_selfpair 0 5 7
ragdoll_selfpair 0 5 9	// Forearms vs. shins

ragdoll_selfpair 0 3 6
ragdoll_selfpair 0 3 8

ragdoll_selfpair 0 5 6
ragdoll_selfpair 0 5 8	// Forearms vs. thighs

ragdoll_selfpair 0 1 3
ragdoll_selfpair 0 1 5	// Neck/head vs. forearms

ragdoll_selfpair 0 3 5	// Forearms
ragdoll_selfpair 0 7 9  // Shins
ragdoll_selfpair 0 8 6	// thighs

// Joint format is:
// ragdoll_joint <def> <bone index> <type> <axis> <low limit> <hi limit>
ragdoll_joint 0  1  swivel	// Neck	0

ragdoll_joint 0  2  swivel	// l shoulder
ragdoll_joint 0  3  hinge	// l elbow

ragdoll_joint 0  4  swivel	// r shoulder
ragdoll_joint 0  5  hinge	// r elbow

ragdoll_joint 0  6  swivel	// l hip 5
ragdoll_joint 0  7  hinge	// l knee

ragdoll_joint 0  8  swivel	// r hip
ragdoll_joint 0  9  hinge	// r knee

// Limit format is:
// ragdoll_limit <def> <joint> <axis> <friction> <min angle> <max angle>

// Neck angles
ragdoll_limit 0 0  x  60.0  -50.0 50.0	// Head turn
ragdoll_limit 0 0  y  60.0  -45.0 45.0
ragdoll_limit 0 0  z  60.0  -20.0 30.0

// L/R shoulders
ragdoll_limit 0 1  x  80.0   -90.0 90.0	// Shoulder twist
ragdoll_limit 0 1  y  100.0  -45.0 20.0
ragdoll_limit 0 1  z  100.0   0.0 95.0

ragdoll_limit 0 3  x  80.0   -90.0 90.0	// Shoulder twist
ragdoll_limit 0 3  y  100.0  -45.0 20.0
ragdoll_limit 0 3  z  100.0   0.0 95.0

// L/R elbows
ragdoll_limit 0 2  z  60.0   -110 35
ragdoll_limit 0 4  z  60.0   -110 35

// L/R hips
ragdoll_limit 0 5  x  80.0   -30.0 30.0	// Hip twist
ragdoll_limit 0 5  y  100.0  -25.0 25.0
ragdoll_limit 0 5  z  200.0   0.0 50.0

ragdoll_limit 0 7  x  80.0   -30.0 30.0	// Hip twist
ragdoll_limit 0 7  y  100.0  -25.0 25.0
ragdoll_limit 0 7  z  200.0   0.0 50.0

// L/R knees
ragdoll_limit 0 6  z  100.0 0 5.0 
ragdoll_limit 0 8  z  100.0 0 5.0 

///////////////////////////////////////////////////////////////////////////////////////
// Test
// This appears to be the ragdoll used by most levels
///////////////////////////////////////////////////////////////////////////////////////

ragdoll_clear 1 

// p0 = point 0
// p1 = point 1
// cog = center of gravity
// rb = rigid body

// Where an argument lists <axis> it means a literal x, y, z, -x, -y, or -z

// Bones
// Format is:
// ragdoll_bone <def> <joint name (p0)> <child name (p1)> <radius> <cog lerp> <mass>
//     <friction> <parent bone> <mirror> <geom type> <additional offset>
// There may be a maximum number of capsules set by RAGDOLL_MAX_BONES which is set at 14


ragdoll_bone 1 j_mainroot    j_spinelower	6.3  0.5  100.0  1  -1   0   capsule
ragdoll_bone 1 j_spinelower  j_spineupper	7.1  0.5  20.0  1   0   0   capsule
ragdoll_bone 1 j_spineupper  j_neck			6.0  0.5  50.0  1   1   0   capsule
ragdoll_bone 1 j_neck        j_head      	3.6  0.5  5.0  1   2   0   capsule 3.5

ragdoll_bone 1 j_shoulder_le j_elbow_le  	3.0  0.5  8.0  0.5   2   0   capsule
ragdoll_bone 1 j_elbow_le    j_wrist_le  	2.2  0.5  6.8  0.5   4   0   capsule

ragdoll_bone 1 j_shoulder_ri j_elbow_ri  	3.0  0.5  8.0  0.5   2   0   capsule
ragdoll_bone 1 j_elbow_ri    j_wrist_ri  	2.2  0.5  6.8 0.5   6   0   capsule

ragdoll_bone 1 j_hip_le      j_knee_le   	4.0  0.5  12.0  0.5   0   0   capsule
ragdoll_bone 1 j_knee_le     j_ankle_le  	3.1  0.5  10.0  0.5   8   0   capsule

ragdoll_bone 1 j_hip_ri      j_knee_ri   	4.0  0.5  12.0 0.5   0   0   capsule
ragdoll_bone 1 j_knee_ri     j_ankle_ri  	3.1  0.5  10.0  0.5   10  0   capsule


// Hit location
// Format is:
// ragdoll_hitloc_mapping <def> <bone> <hitloc>
ragdoll_hitloc_mapping 1 3 helmet
ragdoll_hitloc_mapping 1 3 head
ragdoll_hitloc_mapping 1 3 neck
ragdoll_hitloc_mapping 1 2 torso_upper
ragdoll_hitloc_mapping 1 1 torso_lower
ragdoll_hitloc_mapping 1 6 right_arm_upper
ragdoll_hitloc_mapping 1 4 left_arm_upper
ragdoll_hitloc_mapping 1 7 right_arm_lower
ragdoll_hitloc_mapping 1 5 left_arm_lower
ragdoll_hitloc_mapping 1 7 right_hand
ragdoll_hitloc_mapping 1 5 left_hand
ragdoll_hitloc_mapping 1 10 right_leg_upper
ragdoll_hitloc_mapping 1 8 left_leg_upper
ragdoll_hitloc_mapping 1 11 right_leg_lower
ragdoll_hitloc_mapping 1 9 left_leg_lower
ragdoll_hitloc_mapping 1 11 right_foot
ragdoll_hitloc_mapping 1 9 left_foot
ragdoll_hitloc_mapping 1 7 gun


// Self collision pairs
// Format is:
// ragdoll_selfpair <def> <bone 0> <bone 1>
// Apparently there is a limit of 33 collision pairs.
// The max is calculated by taking RAGDOLL_MAX_BONES which is set at 14, 
// 	multiplying by 2 and adding 5.

//left shoulder
ragdoll_selfpair 1 4 1 
//ragdoll_selfpair 1 4 2
ragdoll_selfpair 1 4 3 

//ragdoll_selfpair 1 4 6
ragdoll_selfpair 1 4 7

//ragdoll_selfpair 1 4 8
//ragdoll_selfpair 1 4 9

//ragdoll_selfpair 1 4 10
//ragdoll_selfpair 1 4 11

//left elbow
ragdoll_selfpair 1 5 0 
ragdoll_selfpair 1 5 1 
ragdoll_selfpair 1 5 2
ragdoll_selfpair 1 5 3

ragdoll_selfpair 1 5 6
ragdoll_selfpair 1 5 7

ragdoll_selfpair 1 5 8
ragdoll_selfpair 1 5 9

ragdoll_selfpair 1 5 10
ragdoll_selfpair 1 5 11

//right shoulder
ragdoll_selfpair 1 6 1 
//ragdoll_selfpair 1 6 2
ragdoll_selfpair 1 6 3

//ragdoll_selfpair 1 6 4
//ragdoll_selfpair 1 6 5

/ragdoll_selfpair 1 6 8
/ragdoll_selfpair 1 6 9

//ragdoll_selfpair 1 6 10
//ragdoll_selfpair 1 6 11

//right elbow
ragdoll_selfpair 1 7 0 
ragdoll_selfpair 1 7 1 
ragdoll_selfpair 1 7 2
ragdoll_selfpair 1 7 3

//ragdoll_selfpair 1 7 4
//ragdoll_selfpair 1 7 5

ragdoll_selfpair 1 7 8
ragdoll_selfpair 1 7 9

ragdoll_selfpair 1 7 10
ragdoll_selfpair 1 7 11


//Left Hip
//ragdoll_selfpair 1 8 0 
//ragdoll_selfpair 1 8 1 
ragdoll_selfpair 1 8 2
//ragdoll_selfpair 1 8 3

ragdoll_selfpair 1 8 10
ragdoll_selfpair 1 8 11

//Left Knee
//ragdoll_selfpair 1 9 0 
ragdoll_selfpair 1 9 1 
ragdoll_selfpair 1 9 2
//ragdoll_selfpair 1 9 3

ragdoll_selfpair 1 9 10
ragdoll_selfpair 1 9 11

//Right Hip
//ragdoll_selfpair 1 10 0 
//ragdoll_selfpair 1 10 1 
ragdoll_selfpair 1 10 2
//ragdoll_selfpair 1 8 3

//Right Knee
//ragdoll_selfpair 1 11 0 
ragdoll_selfpair 1 11 1 
ragdoll_selfpair 1 11 2

// Joint format is:
// ragdoll_joint <def> <bone index> <type> <axis> <low limit> <hi limit>
ragdoll_joint 1  1  swivel  // Spine lower
ragdoll_joint 1  2  swivel	// Spine upper

ragdoll_joint 1  3  swivel	// Neck	0

ragdoll_joint 1  4  swivel	// l shoulder
ragdoll_joint 1  5  hinge	// l elbow

ragdoll_joint 1  6  swivel	// r shoulder
ragdoll_joint 1  7  hinge	// r elbow

ragdoll_joint 1  8  swivel	// l hip
ragdoll_joint 1  9  hinge	// l knee-35	-

ragdoll_joint 1  10  swivel	// r hip
ragdoll_joint 1  11  hinge	// r knee

// Limit format is:
// ragdoll_limit <def> <joint> <axis> <friction> <min angle> <max angle>
// The joint number is defined immediately above and is different from the bone index

// Spine Angles 
ragdoll_limit 1 0 x  0.0   -0.0 0.0 // Spine twist
ragdoll_limit 1 0 y  0.0   -0.0 0.0
ragdoll_limit 1 0 z  0.0   -0.0 0.0

ragdoll_limit 1 1 x  0.0   -0.0 0.0 // Spine twist
ragdoll_limit 1 1 y  0.0   -0.0 0.0
ragdoll_limit 1 1 z  0.0   -0.0 0.0

// Neck angles
ragdoll_limit 1 2  x  0.0  -35.0 35.0	// Head twist
ragdoll_limit 1 2  y  0.0  -35.0 35.0
ragdoll_limit 1 2  z  0.0  -35.0 35.0

// L/R shoulders
ragdoll_limit 1 3  x  0.0  -30.0 60.0	// Shoulder twist
ragdoll_limit 1 3  y  0.0  -40.0 70.0
ragdoll_limit 1 3  z  0.0  -90.0 70.0

ragdoll_limit 1 5  x  0.0 	-60.0 30.0	// Shoulder twist
ragdoll_limit 1 5  y  0.0  -70.0 40.0
ragdoll_limit 1 5  z  0.0  -90.0 70.0

// L/R elbows
ragdoll_limit 1 4  z  0.0  -110.0 45.0
ragdoll_limit 1 6  z  0.0  -110.0 45.0

// L/R hips
ragdoll_limit 1 7  x  0.0   -30.0 30.0// Hip twist
ragdoll_limit 1 7  y  0.0  -45.0 15.0
ragdoll_limit 1 7  z  0.0  -135.0 15.0

ragdoll_limit 1 9  x  0.0  -30.0 30.0	// Hip twist
ragdoll_limit 1 9  y  0.0  -15.0 45.0
ragdoll_limit 1 9  z  0.0   -135.0 15.0

// L/R knees
ragdoll_limit 1 8   z  0.0  -10.0 120.0 
ragdoll_limit 1 10  z  0.0  -10.0 120.0


ragdoll_baselerp_bone 1 j_head     2000
ragdoll_baselerp_bone 1 j_wrist_le 1000
ragdoll_baselerp_bone 1 j_wrist_ri 1000
ragdoll_baselerp_bone 1 j_ankle_le 1000
ragdoll_baselerp_bone 1 j_ankle_ri 1000
ragdoll_baselerp_bone 1 j_shouldertwist_le 1000 4
ragdoll_baselerp_bone 1 j_shouldertwist_ri 1000 6
ragdoll_baselerp_bone 1 j_hiptwist_le 1000 8 
ragdoll_baselerp_bone 1 j_hiptwist_ri 1000 10 

///////////////////////////////////////////////////////////////////////////////////////
// Alien
// This is the ragdoll created for the alien drone
///////////////////////////////////////////////////////////////////////////////////////

ragdoll_clear 2

// p0 = point 0
// p1 = point 1
// cog = center of gravity
// rb = rigid body

// Where an argument lists <axis> it means a literal x, y, z, -x, -y, or -z

// Bones
// Format is:
// ragdoll_bone <def> <joint name (p0)> <child name (p1)> <radius> <cog lerp> <mass>
//     <friction> <parent bone> <mirror> <geom type>
// There may be a maximum number of capsules set by RAGDOLL_MAX_BONES which is set at 14 for IW6

ragdoll_bone 2 j_mainroot		j_spinelower	19.7	0.5	100.0	1.0	-1	0	 capsule
ragdoll_bone 2 j_spineupper		j_neck			23.7	0.5	50.0	1.0	0	0	 capsule
ragdoll_bone 2 j_neck			j_head			18.7	0.5	5.0		0.5	1	0	 capsule
ragdoll_bone 2 j_shoulder_le	j_elbow_le		9.5		0.5	8.0		0.5	1	0	 capsule
ragdoll_bone 2 j_elbow_le		j_wrist_le		7.5		0.5	6.8		0.5	3	0	 capsule
ragdoll_bone 2 j_shoulder_ri	j_elbow_ri		9.5		0.5	8.0		0.5	1	0	 capsule
ragdoll_bone 2 j_elbow_ri		j_wrist_ri		7.5		0.5	6.8		0.5	5	0	 capsule
ragdoll_bone 2 j_hip_le			j_knee_le		12.7	0.5	12.0	0.5	0	0	 capsule
ragdoll_bone 2 j_knee_le		j_ankle_le		7.7		0.5	10.0	0.5	7	0	 capsule
ragdoll_bone 2 j_ankle_le		j_ball_le		6.7		0.5	8.0		0.5	8	0	 capsule
ragdoll_bone 2 j_hip_ri			j_knee_ri		12.7	0.5	12.0	0.5	0	0	 capsule
ragdoll_bone 2 j_knee_ri		j_ankle_ri		7.7		0.5	10.0	0.5	10	0	 capsule
ragdoll_bone 2 j_ankle_ri		j_ball_ri		6.7		0.5	8.0		0.5	11	0	 capsule


// Hit location
// Format is:
// ragdoll_hitloc_mapping <def> <bone> <hitloc>

ragdoll_hitloc_mapping 2 1 torso_lower
ragdoll_hitloc_mapping 2 1 torso_upper
ragdoll_hitloc_mapping 2 2 neck
ragdoll_hitloc_mapping 2 2 head
ragdoll_hitloc_mapping 2 3 left_arm_upper
ragdoll_hitloc_mapping 2 4 left_arm_lower
ragdoll_hitloc_mapping 2 4 left_hand
ragdoll_hitloc_mapping 2 5 right_arm_upper
ragdoll_hitloc_mapping 2 6 right_arm_lower
ragdoll_hitloc_mapping 2 6 right_hand
ragdoll_hitloc_mapping 2 7 left_leg_upper
ragdoll_hitloc_mapping 2 8 left_leg_lower
ragdoll_hitloc_mapping 2 9 left_foot
ragdoll_hitloc_mapping 2 10 right_leg_upper
ragdoll_hitloc_mapping 2 11 right_leg_lower
ragdoll_hitloc_mapping 2 12 right_foot


// Self collision pairs
// Format is:
// ragdoll_selfpair <def> <bone 0> <bone 1>
// Apparently there is a limit of 33 collision pairs.
// The max is calculated by taking RAGDOLL_MAX_BONES which is set at 14, multiplying by 2 and adding 5.

//Main_root
ragdoll_selfpair 2 0 3 
ragdoll_selfpair 2 0 4
ragdoll_selfpair 2 0 5
ragdoll_selfpair 2 0 6

//Spine_Upper
ragdoll_selfpair 2 1 4
ragdoll_selfpair 2 1 6
ragdoll_selfpair 2 1 7
ragdoll_selfpair 2 1 10

//Neck
ragdoll_selfpair 2 2 3
ragdoll_selfpair 2 2 4
ragdoll_selfpair 2 2 5
ragdoll_selfpair 2 2 6

//Arms
ragdoll_selfpair 2 3 5
ragdoll_selfpair 2 3 6
ragdoll_selfpair 2 4 5
ragdoll_selfpair 2 4 6

//Legs
ragdoll_selfpair 2 7 10
ragdoll_selfpair 2 7 11
ragdoll_selfpair 2 7 12
ragdoll_selfpair 2 8 10
ragdoll_selfpair 2 8 11
ragdoll_selfpair 2 8 12
ragdoll_selfpair 2 9 10
ragdoll_selfpair 2 9 11
ragdoll_selfpair 2 9 12


// Joint format is:
// ragdoll_joint <def> <bone index> <type>

ragdoll_joint 2	1	swivel	// SpineUpper
ragdoll_joint 2	2	swivel	// Neck
ragdoll_joint 2	3	swivel	// Shoulder_LE
ragdoll_joint 2	4	hinge	// Elbow_LE
ragdoll_joint 2	5	swivel	// Shoulder_RI
ragdoll_joint 2	6	hinge	// Elbow_RI
ragdoll_joint 2	7	swivel	// Hip_LE
ragdoll_joint 2	8	hinge	// Knee_LE
ragdoll_joint 2	9	hinge	// Ankle_LE
ragdoll_joint 2	10	swivel	// Hip_RI
ragdoll_joint 2	11	hinge	// Knee_RI
ragdoll_joint 2	12	hinge	// Ankle_RI


// Limit format is:
// ragdoll_limit <def> <joint> <axis> <friction> <min angle> <max angle>
// The joint number is defined immediately above and is different from the bone index

// SpineUpper Angles
ragdoll_limit 2 0 x	0.0	0.0 0.0
ragdoll_limit 2 0 y	0.0	0.0 0.0
ragdoll_limit 2 0 z	0.0	0.0 0.0

// Neck Angles
ragdoll_limit 2 1 x	0.5	-35.0 35.0
ragdoll_limit 2 1 y	0.5	-35.0 35.0
ragdoll_limit 2 1 z	0.5	-35.0 35.0

// Shoulder_LE Angles
ragdoll_limit 2 2 x	0.5	-45.0 45.0
ragdoll_limit 2 2 y	0.5	-45.0 45.0
ragdoll_limit 2 2 z	0.5	-45.0 45.0

// Elbow_LE Angles
ragdoll_limit 2 3 z	0.5	-110.0 45.0

// Shoulder_RI Angles
ragdoll_limit 2 4 x	0.5	-45.0 45.0
ragdoll_limit 2 4 y	0.5	-45.0 45.0
ragdoll_limit 2 4 z	0.5	-45.0 45.0

// Elbow_RI Angles
ragdoll_limit 2 5 z	0.5	-110.0 45.0

// Hip_LE Angles
ragdoll_limit 2 6 x	0.5	-45.0 45.0
ragdoll_limit 2 6 y	0.5	-45.0 45.0
ragdoll_limit 2 6 z	0.5	-45.0 45.0

// Knee_LE Angles
ragdoll_limit 2 7 z	0.5	-45.0 45.0

// Ankle_LE Angles
ragdoll_limit 2 8 z	0.5	-45.0 45.0

// Hip_RI Angles
ragdoll_limit 2 9 x	0.5	-45.0 45.0
ragdoll_limit 2 9 y	0.5	-45.0 45.0
ragdoll_limit 2 9 z	0.5	-45.0 45.0

// Knee_RI Angles
ragdoll_limit 2 10 z	0.5	-45.0 45.0

// Ankle_RI Angles
ragdoll_limit 2 11 z	1.0	-45.0 45.0


//<<FOR NOW ragdoll_baselerp_bone MUST BE DONE MANUALLY>>
ragdoll_baselerp_bone 2 j_head	2000
ragdoll_baselerp_bone 1 j_wrist_le 1000
ragdoll_baselerp_bone 1 j_wrist_ri 1000
ragdoll_baselerp_bone 1 j_ankle_le 1000
ragdoll_baselerp_bone 1 j_ankle_ri 1000
